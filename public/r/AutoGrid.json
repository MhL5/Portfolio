{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "AutoGrid",
  "type": "registry:component",
  "title": "AutoGrid",
  "description": "a component that automatically adjusts the grid columns without relying on breakpoints.",
  "files": [
    {
      "path": "src/registry/new-york/AutoGrid/AutoGrid.tsx",
      "content": "import { type ComponentProps, useCallback, useMemo } from \"react\";\n\ntype AutoGridProps = {\n  maxColCount: Options[\"maxColCount\"];\n  minColSize: Options[\"minColSize\"];\n  gap: Options[\"gap\"];\n\n  sm?: Options;\n  md?: Options;\n  lg?: Options;\n\n  uniqueId: string;\n} & ComponentProps<\"div\">;\n\ntype Options = {\n  maxColCount?: number;\n  minColSize?: number;\n  gap?: number;\n};\n\nconst defaultOptions: Required<Options> = {\n  maxColCount: 5,\n  minColSize: 5,\n  gap: 1,\n};\n\nconst breakpoints = {\n  sm: \"40rem\",\n  md: \"48rem\",\n  lg: \"64rem\",\n};\n\nfunction generateCssVariables(options: Options): string {\n  return `\n    --grid-max-col-count: ${options.maxColCount || defaultOptions.maxColCount};\n    --grid-min-col-size: ${options.minColSize || defaultOptions.minColSize}rem;\n    --grid-gap: ${options.gap || defaultOptions.gap}rem;\n  `;\n}\n\n/**\n * AutoGrid is a component that automatically adjusts the grid columns based on the screen size.\n *\n * @param maxColCount - The maximum number of columns the grid can have.\n * @param minColSize - The minimum size of each column in **rem**.\n * @param gap - The gap between each column in **rem**.\n * @param sm - The options for the small screen size.\n * @param md - The options for the medium screen size.\n * @param lg - The options for the large screen size.\n * @param props - Also accepts the HTML div props for the component.\n *\n */\nexport default function AutoGrid({\n  gap,\n  uniqueId,\n  maxColCount,\n  minColSize,\n  sm,\n  md,\n  lg,\n  ...props\n}: AutoGridProps) {\n  const baseVariables = generateCssVariables({ maxColCount, minColSize, gap });\n  const generateMediaQueries = useCallback(\n    () =>\n      [sm, md, lg]\n        .map((options, index) => {\n          if (!options) return \"\";\n          const breakpoint = Object.values(breakpoints)[index];\n          return `\n          @media (width >= ${breakpoint}) {\n            #${uniqueId} {\n              --grid-max-col-count: ${options.maxColCount || maxColCount};\n              --grid-min-col-size: ${options.minColSize || minColSize}rem;\n              --grid-gap: ${options.gap || gap}rem;\n            }\n          }\n        `;\n        })\n        .join(\"\\n\"),\n    [gap, maxColCount, minColSize, uniqueId, sm, md, lg],\n  );\n  const mediaQueries = useMemo(\n    () => generateMediaQueries(),\n    [generateMediaQueries],\n  );\n\n  return (\n    <>\n      <style>\n        {`\n          #${uniqueId} {\n            ${baseVariables}\n            \n            /* calculations, do not touch */\n            --grid-col-size-calc: calc(\n              (100% - var(--grid-gap) * var(--grid-max-col-count)) /\n                var(--grid-max-col-count)\n            );\n            --grid-col-min-size-calc: min(\n              100%,\n              max(var(--grid-min-col-size), var(--grid-col-size-calc))\n            );\n            display: grid;\n            gap: var(--grid-gap);\n            grid-template-columns: repeat(\n              auto-fit,\n              minmax(var(--grid-col-min-size-calc), 1fr)\n            );\n            ${mediaQueries || \"\"}`}\n      </style>\n\n      <div id={uniqueId} {...props} />\n    </>\n  );\n}\n",
      "type": "registry:component"
    }
  ]
}